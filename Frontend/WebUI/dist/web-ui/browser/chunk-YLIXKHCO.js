import{$ as ue,$a as We,$b as Qi,A as W,Aa as bi,Ab as Je,B as Be,Ba as wi,Bb as et,C as _i,Ca as Di,Cb as tt,D as ze,Da as He,Db as Bi,E as m,Eb as J,F as K,G as Ve,Gb as it,H as b,Ha as De,Hb as zi,I as _e,Ia as xi,Ib as Se,J as y,Ja as re,Jb as rt,K as me,Ka as oe,Kb as ot,L as h,La as Si,M as w,Mb as nt,N as _,Na as ne,Nb as at,O as ye,Oa as ki,P as f,Pa as je,Pb as Vi,Q as Me,Qa as Ri,Qb as Hi,R as $,Ra as Ut,Rb as st,S as yi,Sa as Mi,Sb as ji,T as vi,Ta as Oi,Tb as lt,U as z,Ua as Ei,Ub as ct,V as c,Va as Ue,Vb as dt,W as l,Wa as xe,Wb as Ui,X as g,Xa as Ti,Xb as Ee,Y,Ya as Ii,Yb as mt,Z,Za as Fi,Zb as Wi,_ as R,_a as Pi,a as he,aa as v,ab as Ai,ac as qi,b as di,ba as C,bb as Ni,bc as Gi,c as Bt,ca as ve,cb as Wt,cc as ut,d as mi,da as V,db as Qe,dc as Xi,e as zt,eb as qe,ec as Ki,f as ui,fb as Ge,fc as Qt,g as Ae,ga as E,gc as qt,h as Vt,ha as Oe,hc as Gt,i as pi,ia as x,ic as $i,j as Ht,ja as S,jc as ke,k as jt,ka as Ci,l as j,la as d,lb as Xe,lc as Yi,m as fi,ma as T,mb as ae,mc as Zi,n as de,na as ie,nb as Ke,nc as Ji,o as U,ob as Q,oc as er,p as s,q as ge,qb as $e,qc as tr,r as I,rb as q,rc as ir,s as F,sa as M,sb as se,t as hi,ta as pe,u as B,ub as Ye,v as gi,va as Ce,w as Ne,wa as be,x as te,xa as D,xb as Ze,y as Le,ya as we,yb as A,z as P,zb as Li}from"./chunk-JYYV4ZO2.js";var Dr=[[["caption"]],[["colgroup"],["col"]],"*"],xr=["caption","colgroup, col","*"];function Sr(i,o){i&1&&V(0,2)}function kr(i,o){i&1&&(c(0,"thead",0),R(1,1),l(),c(2,"tbody",0),R(3,2)(4,3),l(),c(5,"tfoot",0),R(6,4),l())}function Rr(i,o){i&1&&R(0,1)(1,2)(2,3)(3,4)}var H=new U("CDK_TABLE");var yt=(()=>{class i{template=s(K);constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275dir=h({type:i,selectors:[["","cdkCellDef",""]]})}return i})(),vt=(()=>{class i{template=s(K);constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275dir=h({type:i,selectors:[["","cdkHeaderCellDef",""]]})}return i})(),nr=(()=>{class i{template=s(K);constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275dir=h({type:i,selectors:[["","cdkFooterCellDef",""]]})}return i})(),Re=(()=>{class i{_table=s(H,{optional:!0});_hasStickyChanged=!1;get name(){return this._name}set name(e){this._setNameInput(e)}_name;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}_stickyEnd=!1;cell;headerCell;footerCell;cssClassFriendlyName;_columnCssClassName;constructor(){}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static \u0275fac=function(t){return new(t||i)};static \u0275dir=h({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,r,n){if(t&1&&(E(n,yt,5),E(n,vt,5),E(n,nr,5)),t&2){let a;x(a=S())&&(r.cell=a.first),x(a=S())&&(r.headerCell=a.first),x(a=S())&&(r.footerCell=a.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",D],stickyEnd:[2,"stickyEnd","stickyEnd",D]},features:[M([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}])]})}return i})(),ft=class{constructor(o,e){e.nativeElement.classList.add(...o._columnCssClassName)}},ar=(()=>{class i extends ft{constructor(){super(s(Re),s(P))}static \u0275fac=function(t){return new(t||i)};static \u0275dir=h({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[w]})}return i})();var sr=(()=>{class i extends ft{constructor(){let e=s(Re),t=s(P);super(e,t);let r=e._table?._getCellRole();r&&t.nativeElement.setAttribute("role",r)}static \u0275fac=function(t){return new(t||i)};static \u0275dir=h({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[w]})}return i})(),ht=class{tasks=[];endTasks=[]},gt=new U("_COALESCED_STYLE_SCHEDULER"),Kt=(()=>{class i{_currentSchedule=null;_ngZone=s(Le);constructor(){}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new ht,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let e=this._currentSchedule;this._currentSchedule=new ht;for(let t of e.tasks)t();for(let t of e.endTasks)t()}this._currentSchedule=null})))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=fi({token:i,factory:i.\u0275fac})}return i})();var $t=(()=>{class i{template=s(K);_differs=s(be);columns;_columnsDiffer;constructor(){}ngOnChanges(e){if(!this._columnsDiffer){let t=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(t).create(),this._columnsDiffer.diff(t)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Te?e.headerCell.template:this instanceof Yt?e.footerCell.template:e.cell.template}static \u0275fac=function(t){return new(t||i)};static \u0275dir=h({type:i,features:[ge]})}return i})(),Te=(()=>{class i extends $t{_table=s(H,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(s(K),s(be))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(t){return new(t||i)};static \u0275dir=h({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",D]},features:[w,ge]})}return i})(),Yt=(()=>{class i extends $t{_table=s(H,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(s(K),s(be))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(t){return new(t||i)};static \u0275dir=h({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",D]},features:[w,ge]})}return i})(),Ct=(()=>{class i extends $t{_table=s(H,{optional:!0});when;constructor(){super(s(K),s(be))}static \u0275fac=function(t){return new(t||i)};static \u0275dir=h({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},features:[w]})}return i})(),fe=(()=>{class i{_viewContainer=s(_e);cells;context;static mostRecentCellOutlet=null;constructor(){i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}static \u0275fac=function(t){return new(t||i)};static \u0275dir=h({type:i,selectors:[["","cdkCellOutlet",""]]})}return i})(),Zt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=y({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){t&1&&R(0,0)},dependencies:[fe],encapsulation:2})}return i})();var Jt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=y({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){t&1&&R(0,0)},dependencies:[fe],encapsulation:2})}return i})(),lr=(()=>{class i{templateRef=s(K);_contentClassName="cdk-no-data-row";constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275dir=h({type:i,selectors:[["ng-template","cdkNoDataRow",""]]})}return i})(),rr=["top","bottom","left","right"],Xt=class{_isNativeHtmlTable;_stickCellCss;direction;_coalescedStyleScheduler;_isBrowser;_needsPositionStickyOnElement;_positionListener;_tableInjector;_elemSizeCache=new WeakMap;_resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(o=>this._updateCachedSizes(o)):null;_updatedStickyColumnsParamsToReplay=[];_stickyColumnsReplayTimeout=null;_cachedCellWidths=[];_borderCellCss;_destroyed=!1;constructor(o,e,t,r,n=!0,a=!0,p,u){this._isNativeHtmlTable=o,this._stickCellCss=e,this.direction=t,this._coalescedStyleScheduler=r,this._isBrowser=n,this._needsPositionStickyOnElement=a,this._positionListener=p,this._tableInjector=u,this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(o,e){(e.includes("left")||e.includes("right"))&&this._removeFromStickyColumnReplayQueue(o);let t=[];for(let r of o)r.nodeType===r.ELEMENT_NODE&&t.push(r,...Array.from(r.children));this._afterNextRender({write:()=>{for(let r of t)this._removeStickyStyle(r,e)}})}updateStickyColumns(o,e,t,r=!0,n=!0){if(!o.length||!this._isBrowser||!(e.some(L=>L)||t.some(L=>L))){this._positionListener?.stickyColumnsUpdated({sizes:[]}),this._positionListener?.stickyEndColumnsUpdated({sizes:[]});return}let a=o[0],p=a.children.length,u=this.direction==="rtl",k=u?"right":"left",N=u?"left":"right",G=e.lastIndexOf(!0),X=t.indexOf(!0),ee,si,li;n&&this._updateStickyColumnReplayQueue({rows:[...o],stickyStartStates:[...e],stickyEndStates:[...t]}),this._afterNextRender({earlyRead:()=>{ee=this._getCellWidths(a,r),si=this._getStickyStartColumnPositions(ee,e),li=this._getStickyEndColumnPositions(ee,t)},write:()=>{for(let L of o)for(let O=0;O<p;O++){let ci=L.children[O];e[O]&&this._addStickyStyle(ci,k,si[O],O===G),t[O]&&this._addStickyStyle(ci,N,li[O],O===X)}this._positionListener&&ee.some(L=>!!L)&&(this._positionListener.stickyColumnsUpdated({sizes:G===-1?[]:ee.slice(0,G+1).map((L,O)=>e[O]?L:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:X===-1?[]:ee.slice(X).map((L,O)=>t[O+X]?L:null).reverse()}))}})}stickRows(o,e,t){if(!this._isBrowser)return;let r=t==="bottom"?o.slice().reverse():o,n=t==="bottom"?e.slice().reverse():e,a=[],p=[],u=[];this._afterNextRender({earlyRead:()=>{for(let k=0,N=0;k<r.length;k++){if(!n[k])continue;a[k]=N;let G=r[k];u[k]=this._isNativeHtmlTable?Array.from(G.children):[G];let X=this._retrieveElementSize(G).height;N+=X,p[k]=X}},write:()=>{let k=n.lastIndexOf(!0);for(let N=0;N<r.length;N++){if(!n[N])continue;let G=a[N],X=N===k;for(let ee of u[N])this._addStickyStyle(ee,t,G,X)}t==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:p,offsets:a,elements:u}):this._positionListener?.stickyFooterRowsUpdated({sizes:p,offsets:a,elements:u})}})}updateStickyFooterContainer(o,e){this._isNativeHtmlTable&&this._afterNextRender({write:()=>{let t=o.querySelector("tfoot");t&&(e.some(r=>!r)?this._removeStickyStyle(t,["bottom"]):this._addStickyStyle(t,"bottom",0,!1))}})}destroy(){this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._resizeObserver?.disconnect(),this._destroyed=!0}_removeStickyStyle(o,e){if(!o.classList.contains(this._stickCellCss))return;for(let r of e)o.style[r]="",o.classList.remove(this._borderCellCss[r]);rr.some(r=>e.indexOf(r)===-1&&o.style[r])?o.style.zIndex=this._getCalculatedZIndex(o):(o.style.zIndex="",this._needsPositionStickyOnElement&&(o.style.position=""),o.classList.remove(this._stickCellCss))}_addStickyStyle(o,e,t,r){o.classList.add(this._stickCellCss),r&&o.classList.add(this._borderCellCss[e]),o.style[e]=`${t}px`,o.style.zIndex=this._getCalculatedZIndex(o),this._needsPositionStickyOnElement&&(o.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(o){let e={top:100,bottom:10,left:1,right:1},t=0;for(let r of rr)o.style[r]&&(t+=e[r]);return t?`${t}`:""}_getCellWidths(o,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;let t=[],r=o.children;for(let n=0;n<r.length;n++){let a=r[n];t.push(this._retrieveElementSize(a).width)}return this._cachedCellWidths=t,t}_getStickyStartColumnPositions(o,e){let t=[],r=0;for(let n=0;n<o.length;n++)e[n]&&(t[n]=r,r+=o[n]);return t}_getStickyEndColumnPositions(o,e){let t=[],r=0;for(let n=o.length;n>0;n--)e[n]&&(t[n]=r,r+=o[n]);return t}_retrieveElementSize(o){let e=this._elemSizeCache.get(o);if(e)return e;let t=o.getBoundingClientRect(),r={width:t.width,height:t.height};return this._resizeObserver&&(this._elemSizeCache.set(o,r),this._resizeObserver.observe(o,{box:"border-box"})),r}_updateStickyColumnReplayQueue(o){this._removeFromStickyColumnReplayQueue(o.rows),this._stickyColumnsReplayTimeout||this._updatedStickyColumnsParamsToReplay.push(o)}_removeFromStickyColumnReplayQueue(o){let e=new Set(o);for(let t of this._updatedStickyColumnsParamsToReplay)t.rows=t.rows.filter(r=>!e.has(r));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(t=>!!t.rows.length)}_updateCachedSizes(o){let e=!1;for(let t of o){let r=t.borderBoxSize?.length?{width:t.borderBoxSize[0].inlineSize,height:t.borderBoxSize[0].blockSize}:{width:t.contentRect.width,height:t.contentRect.height};r.width!==this._elemSizeCache.get(t.target)?.width&&Mr(t.target)&&(e=!0),this._elemSizeCache.set(t.target,r)}e&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{if(!this._destroyed){for(let t of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(t.rows,t.stickyStartStates,t.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null}},0))}_afterNextRender(o){this._tableInjector?_i(o,{injector:this._tableInjector}):this._coalescedStyleScheduler.schedule(()=>{o.earlyRead?.(),o.write()})}};function Mr(i){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(o=>i.classList.contains(o))}var _t=new U("CDK_SPL");var ei=(()=>{class i{viewContainer=s(_e);elementRef=s(P);constructor(){let e=s(H);e._rowOutlet=this,e._outletAssigned()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=h({type:i,selectors:[["","rowOutlet",""]]})}return i})(),ti=(()=>{class i{viewContainer=s(_e);elementRef=s(P);constructor(){let e=s(H);e._headerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=h({type:i,selectors:[["","headerRowOutlet",""]]})}return i})(),ii=(()=>{class i{viewContainer=s(_e);elementRef=s(P);constructor(){let e=s(H);e._footerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=h({type:i,selectors:[["","footerRowOutlet",""]]})}return i})(),ri=(()=>{class i{viewContainer=s(_e);elementRef=s(P);constructor(){let e=s(H);e._noDataRowOutlet=this,e._outletAssigned()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=h({type:i,selectors:[["","noDataRowOutlet",""]]})}return i})();var oi=(()=>{class i{_differs=s(be);_changeDetectorRef=s(Ce);_elementRef=s(P);_dir=s(Ue,{optional:!0});_platform=s(ki);_viewRepeater=s(Ee);_coalescedStyleScheduler=s(gt);_viewportRuler=s(ut);_stickyPositioningListener=s(_t,{optional:!0,skipSelf:!0});_document=s(bi);_data;_onDestroy=new he;_renderRows;_renderChangeSubscription;_columnDefsByName=new Map;_rowDefs;_headerRowDefs;_footerRowDefs;_dataDiffer;_defaultRowDef;_customColumnDefs=new Set;_customRowDefs=new Set;_customHeaderRowDefs=new Set;_customFooterRowDefs=new Set;_customNoDataRow;_headerRowDefChanged=!0;_footerRowDefChanged=!0;_stickyColumnStylesNeedReset=!0;_forceRecalculateCellWidths=!0;_cachedRenderRowsMap=new Map;_isNativeHtmlTable;_stickyStyler;stickyCssClass="cdk-table-sticky";needsPositionStickyOnElement=!0;_isServer;_isShowingNoDataRow=!1;_hasAllOutlets=!1;_hasInitialized=!1;_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role");return e==="grid"||e==="treegrid"?"gridcell":"cell"}return this._cellRoleInternal}_cellRoleInternal=void 0;get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}_trackByFn;get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}_dataSource;get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}_multiTemplateDataRows=!1;get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}_fixedLayout=!1;contentChanged=new te;viewChange=new di({start:0,end:Number.MAX_VALUE});_rowOutlet;_headerRowOutlet;_footerRowOutlet;_noDataRowOutlet;_contentColumnDefs;_contentRowDefs;_contentHeaderRowDefs;_contentFooterRowDefs;_noDataRow;_injector=s(gi);constructor(){s(new Ne("role"),{optional:!0})||this._elementRef.nativeElement.setAttribute("role","table"),this._isServer=!this._platform.isBrowser,this._isNativeHtmlTable=this._elementRef.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((e,t)=>this.trackBy?this.trackBy(t.dataIndex,t.data):t),this._viewportRuler.change().pipe(j(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){this._stickyStyler?.destroy(),[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),dt(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let t=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,t,(r,n,a)=>this._getEmbeddedViewArgs(r.item,a),r=>r.item.data,r=>{r.operation===Ui.INSERTED&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{let n=t.get(r.currentIndex);n.context.$implicit=r.item.data}),this._updateNoDataRow(),this.contentChanged.next(),this.updateStickyColumnStyles()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let r=or(this._headerRowOutlet,"thead");r&&(r.style.display=e.length?"":"none")}let t=this._headerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,t,"top"),this._headerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let r=or(this._footerRowOutlet,"tfoot");r&&(r.style.display=e.length?"":"none")}let t=this._footerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,t,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,t),this._footerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),t=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...t,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((n,a)=>{this._addStickyColumnStyles([n],this._headerRowDefs[a])}),this._rowDefs.forEach(n=>{let a=[];for(let p=0;p<t.length;p++)this._renderRows[p].rowDef===n&&a.push(t[p]);this._addStickyColumnStyles(a,n)}),r.forEach((n,a)=>{this._addStickyColumnStyles([n],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(n=>n.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||t,this._forceRecalculateCellWidths=t,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let e=[],t=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let n=this._data[r],a=this._getRenderRowsForData(n,r,t.get(n));this._cachedRenderRowsMap.has(n)||this._cachedRenderRowsMap.set(n,new WeakMap);for(let p=0;p<a.length;p++){let u=a[p],k=this._cachedRenderRowsMap.get(u.data);k.has(u.rowDef)?k.get(u.rowDef).push(u):k.set(u.rowDef,[u]),e.push(u)}}return e}_getRenderRowsForData(e,t,r){return this._getRowDefs(e,t).map(a=>{let p=r&&r.has(a)?r.get(a):[];if(p.length){let u=p.shift();return u.dataIndex=t,u}else return{data:e,rowDef:a,dataIndex:t}})}_cacheColumnDefs(){this._columnDefsByName.clear(),pt(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=pt(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=pt(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=pt(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(t=>!t.when);!this.multiTemplateDataRows&&e.length>1,this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(a,p)=>{let u=!!p.getColumnsDiff();return a||u},t=this._rowDefs.reduce(e,!1);t&&this._forceRenderDataRows();let r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();let n=this._footerRowDefs.reduce(e,!1);return n&&this._forceRenderFooterRows(),t||r||n}_switchDataSource(e){this._data=[],dt(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;dt(this.dataSource)?e=this.dataSource.connect(this):mi(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Bt(this.dataSource)),this._renderChangeSubscription=e.pipe(j(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,t)=>this._renderRow(this._headerRowOutlet,e,t)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,t)=>this._renderRow(this._footerRowOutlet,e,t)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,t){let r=Array.from(t?.columns||[]).map(p=>{let u=this._columnDefsByName.get(p);return u}),n=r.map(p=>p.sticky),a=r.map(p=>p.stickyEnd);this._stickyStyler.updateStickyColumns(e,n,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let t=[];for(let r=0;r<e.viewContainer.length;r++){let n=e.viewContainer.get(r);t.push(n.rootNodes[0])}return t}_getRowDefs(e,t){if(this._rowDefs.length==1)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(n=>!n.when||n.when(t,e));else{let n=this._rowDefs.find(a=>a.when&&a.when(t,e))||this._defaultRowDef;n&&r.push(n)}return r.length,r}_getEmbeddedViewArgs(e,t){let r=e.rowDef,n={$implicit:e.data};return{templateRef:r.template,context:n,index:t}}_renderRow(e,t,r,n={}){let a=e.viewContainer.createEmbeddedView(t.template,n,r);return this._renderCellTemplateForItem(t,n),a}_renderCellTemplateForItem(e,t){for(let r of this._getCellTemplates(e))fe.mostRecentCellOutlet&&fe.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,t);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let t=0,r=e.length;t<r;t++){let a=e.get(t).context;a.count=r,a.first=t===0,a.last=t===r-1,a.even=t%2===0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[t].dataIndex,a.renderIndex=t):a.index=this._renderRows[t].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,t=>{let r=this._columnDefsByName.get(t);return e.extractCellTemplate(r)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(t,r)=>t||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr";this._stickyStyler=new Xt(this._isNativeHtmlTable,this.stickyCssClass,e,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener,this._injector),(this._dir?this._dir.change:Bt()).pipe(j(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let t=this._rowOutlet.viewContainer.length===0;if(t===this._isShowingNoDataRow)return;let r=this._noDataRowOutlet.viewContainer;if(t){let n=r.createEmbeddedView(e.templateRef),a=n.rootNodes[0];n.rootNodes.length===1&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=t,this._changeDetectorRef.markForCheck()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=y({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,r,n){if(t&1&&(E(n,lr,5),E(n,Re,5),E(n,Ct,5),E(n,Te,5),E(n,Yt,5)),t&2){let a;x(a=S())&&(r._noDataRow=a.first),x(a=S())&&(r._contentColumnDefs=a),x(a=S())&&(r._contentRowDefs=a),x(a=S())&&(r._contentHeaderRowDefs=a),x(a=S())&&(r._contentFooterRowDefs=a)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,r){t&2&&$("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",D],fixedLayout:[2,"fixedLayout","fixedLayout",D]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[M([{provide:H,useExisting:i},{provide:Ee,useClass:mt},{provide:gt,useClass:Kt},{provide:_t,useValue:null}])],ngContentSelectors:xr,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){t&1&&(ve(Dr),V(0),V(1,1),_(2,Sr,1,0)(3,kr,7,0)(4,Rr,4,0)),t&2&&(m(2),z(r._isServer?2:-1),m(),z(r._isNativeHtmlTable?3:4))},dependencies:[ti,ei,ri,ii],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return i})();function pt(i,o){return i.concat(Array.from(o))}function or(i,o){let e=o.toUpperCase(),t=i.viewContainer.element.nativeElement;for(;t;){let r=t.nodeType===1?t.nodeName:null;if(r===e)return t;if(r==="TABLE")break;t=t.parentNode}return null}var cr=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=me({type:i});static \u0275inj=de({imports:[Ki]})}return i})();var Or=[[["caption"]],[["colgroup"],["col"]],"*"],Er=["caption","colgroup, col","*"];function Tr(i,o){i&1&&V(0,2)}function Ir(i,o){i&1&&(c(0,"thead",0),R(1,1),l(),c(2,"tbody",2),R(3,3)(4,4),l(),c(5,"tfoot",0),R(6,5),l())}function Fr(i,o){i&1&&R(0,1)(1,3)(2,4)(3,5)}var bt=(()=>{class i extends oi{stickyCssClass="mat-mdc-table-sticky";needsPositionStickyOnElement=!1;static \u0275fac=(()=>{let e;return function(r){return(e||(e=B(i)))(r||i)}})();static \u0275cmp=y({type:i,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(t,r){t&2&&$("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[M([{provide:oi,useExisting:i},{provide:H,useExisting:i},{provide:gt,useClass:Kt},{provide:Ee,useClass:mt},{provide:_t,useValue:null}]),w],ngContentSelectors:Er,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){t&1&&(ve(Or),V(0),V(1,1),_(2,Tr,1,0)(3,Ir,7,0)(4,Fr,4,0)),t&2&&(m(2),z(r._isServer?2:-1),m(),z(r._isNativeHtmlTable?3:4))},dependencies:[ti,ei,ri,ii],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-sys-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-sys-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-sys-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-sys-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-sys-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-sys-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mdc-data-table__row:last-child>.mat-mdc-header-cell{border-bottom:none}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child>.mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return i})(),wt=(()=>{class i extends yt{static \u0275fac=(()=>{let e;return function(r){return(e||(e=B(i)))(r||i)}})();static \u0275dir=h({type:i,selectors:[["","matCellDef",""]],features:[M([{provide:yt,useExisting:i}]),w]})}return i})(),Dt=(()=>{class i extends vt{static \u0275fac=(()=>{let e;return function(r){return(e||(e=B(i)))(r||i)}})();static \u0275dir=h({type:i,selectors:[["","matHeaderCellDef",""]],features:[M([{provide:vt,useExisting:i}]),w]})}return i})();var xt=(()=>{class i extends Re{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=B(i)))(r||i)}})();static \u0275dir=h({type:i,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},features:[M([{provide:Re,useExisting:i},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),w]})}return i})(),St=(()=>{class i extends ar{static \u0275fac=(()=>{let e;return function(r){return(e||(e=B(i)))(r||i)}})();static \u0275dir=h({type:i,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[w]})}return i})();var kt=(()=>{class i extends sr{static \u0275fac=(()=>{let e;return function(r){return(e||(e=B(i)))(r||i)}})();static \u0275dir=h({type:i,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[w]})}return i})();var Rt=(()=>{class i extends Te{static \u0275fac=(()=>{let e;return function(r){return(e||(e=B(i)))(r||i)}})();static \u0275dir=h({type:i,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",D]},features:[M([{provide:Te,useExisting:i}]),w]})}return i})();var Mt=(()=>{class i extends Ct{static \u0275fac=(()=>{let e;return function(r){return(e||(e=B(i)))(r||i)}})();static \u0275dir=h({type:i,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},features:[M([{provide:Ct,useExisting:i}]),w]})}return i})(),Ot=(()=>{class i extends Zt{static \u0275fac=(()=>{let e;return function(r){return(e||(e=B(i)))(r||i)}})();static \u0275cmp=y({type:i,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[M([{provide:Zt,useExisting:i}]),w],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){t&1&&R(0,0)},dependencies:[fe],encapsulation:2})}return i})();var Et=(()=>{class i extends Jt{static \u0275fac=(()=>{let e;return function(r){return(e||(e=B(i)))(r||i)}})();static \u0275cmp=y({type:i,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[M([{provide:Jt,useExisting:i}]),w],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){t&1&&R(0,0)},dependencies:[fe],encapsulation:2})}return i})();var Tt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=me({type:i});static \u0275inj=de({imports:[xe,cr,xe]})}return i})();var mr=()=>["name","actions"];function Pr(i,o){i&1&&(c(0,"th",10),d(1,"Name"),l())}function Ar(i,o){if(i&1&&(c(0,"td",11),d(1),l()),i&2){let e=o.$implicit;m(),T(e.name)}}function Nr(i,o){i&1&&(c(0,"th",10),d(1,"Actions"),l())}function Lr(i,o){if(i&1){let e=ue();c(0,"td",12)(1,"button",13),v("click",function(){let r=I(e).$implicit,n=C();return F(n.router.navigate(["/admin/categories/edit",r.id]))}),c(2,"mat-icon"),d(3,"edit"),l()(),c(4,"button",14),v("click",function(){let r=I(e).$implicit,n=C();return F(n.deleteCategory(r.id))}),c(5,"mat-icon"),d(6,"delete"),l()(),c(7,"button",15),v("click",function(){let r=I(e).$implicit,n=C();return F(n.router.navigate(["/admin/categories",r.id,"products"]))}),d(8," Manage Products "),l()()}}function Br(i,o){i&1&&g(0,"tr",16)}function zr(i,o){i&1&&g(0,"tr",17)}var It=class i{constructor(o,e){this.categoryService=o;this.snackBar=e;this.fetchCategories()}categories=W([]);router=s(re);fetchCategories(){this.categoryService.getCategories().subscribe(o=>this.categories.set(o))}deleteCategory(o){confirm("Are you sure you want to delete this category?")&&this.categoryService.deleteCategory(o).subscribe({next:()=>{this.fetchCategories(),this.snackBar.open("Category deleted successfully!","Close",{duration:3e3})},error:e=>{console.error(e),this.snackBar.open(e.message,"Close",{duration:3e3})}})}static \u0275fac=function(e){return new(e||i)(b(ae),b(ke))};static \u0275cmp=y({type:i,selectors:[["app-category-list"]],decls:16,vars:5,consts:[[1,"table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-cell","","class","action-buttons",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary","routerLink","/admin/categories/add",1,"add-button"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-buttons"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],[1,"manage-category-button",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){e&1&&(c(0,"div",0)(1,"h2"),d(2,"Manage Categories"),l(),c(3,"table",1),Y(4,2),_(5,Pr,2,0,"th",3)(6,Ar,2,1,"td",4),Z(),Y(7,5),_(8,Nr,2,0,"th",3)(9,Lr,9,0,"td",6),Z(),_(10,Br,1,0,"tr",7)(11,zr,1,0,"tr",8),l(),c(12,"button",9)(13,"mat-icon"),d(14,"add"),l(),d(15," Add Category "),l()()),e&2&&(m(3),f("dataSource",t.categories()),m(7),f("matHeaderRowDef",pe(3,mr)),m(),f("matRowDefColumns",pe(4,mr)))},dependencies:[Tt,bt,Dt,Rt,xt,wt,Mt,St,kt,Ot,Et,q,Q,$e,ne,oe,se],styles:[".table-container[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 4px 10px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px;font-size:1.5rem;color:orange}table[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;color:#f3af31}td[_ngcontent-%COMP%]{padding:10px}mat-icon-button[_ngcontent-%COMP%]{color:orange}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:40px;align-items:center}.manage-category-button[_ngcontent-%COMP%]{background-color:#eea663;color:#fff;border:none;padding:6px 12px;border-radius:4px;cursor:pointer;font-size:14px;transition:background .3s}.manage-category-button[_ngcontent-%COMP%]:hover{background-color:#ff4500}.add-button[_ngcontent-%COMP%]{display:flex;color:#eea663;align-items:center;gap:8px;margin-top:20px;width:100%;justify-content:center}@media (max-width: 600px){.table-container[_ngcontent-%COMP%]{padding:10px}.add-button[_ngcontent-%COMP%]{font-size:.9rem}}"]})};function Vr(i,o){i&1&&g(0,"div",2)}var Hr=new U("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var Nt=(()=>{class i{_elementRef=s(P);_ngZone=s(Le);_changeDetectorRef=s(Ce);_renderer=s(Ve);_cleanupTransitionEnd;_animationMode=s(Be,{optional:!0});constructor(){let e=s(Hr,{optional:!0});this._isNoopAnimation=this._animationMode==="NoopAnimations",e&&(e.color&&(this.color=this._defaultColor=e.color),this.mode=e.mode||this.mode)}_isNoopAnimation=!1;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";get value(){return this._value}set value(e){this._value=pr(e||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=pr(e||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new te;get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=e=>{this.animationEnd.observers.length===0||!e.target||!e.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(t){return new(t||i)};static \u0275cmp=y({type:i,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(t,r){t&2&&(ye("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),yi("mat-"+r.color),$("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",we],bufferValue:[2,"bufferValue","bufferValue",we],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(t,r){t&1&&(c(0,"div",0),g(1,"div",1),_(2,Vr,1,0,"div",2),l(),c(3,"div",3),g(4,"span",4),l(),c(5,"div",5),g(6,"span",4),l()),t&2&&(m(),Me("flex-basis",r._getBufferBarFlexBasis()),m(),z(r.mode==="buffer"?2:-1),m(),Me("transform",r._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height, 4px),var(--mdc-linear-progress-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height, 4px);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}`],encapsulation:2,changeDetection:0})}return i})();function pr(i,o=0,e=100){return Math.max(o,Math.min(e,i))}function qr(i,o){i&1&&g(0,"mat-progress-bar",12)}function Gr(i,o){if(i&1&&(c(0,"p",13),d(1),l()),i&2){let e=C();m(),T(e.imageUploadError())}}function Xr(i,o){if(i&1&&(c(0,"div",14),g(1,"img",15),l()),i&2){let e=C();m(),f("src",e.imageSrc,ze)}}var Ie=class i{constructor(o,e,t,r,n){this.categoryService=o;this.router=e;this.route=t;this.snackBar=r;this.imageService=n}categoryForm=new tt({name:new J("",A.required),imageUrl:new J("",A.required)});ngOnInit(){this.checkEditMode()}imageUploading=W(!1);imageUploadError=W(null);imageSrc=null;isEditMode=!1;categoryId;category;checkEditMode(){this.categoryId=Number(this.route.snapshot.paramMap.get("id")),this.isEditMode=!isNaN(this.categoryId)&&this.categoryId>0,this.isEditMode&&this.categoryService.getCategoryById(this.categoryId).subscribe({next:o=>{this.categoryForm.patchValue(o),this.imageSrc=this.imageService.getImageUrl(o.imageUrl)},error:()=>console.error("Failed to load product")})}fetchImage(o){this.imageService.getImageByUrl(o).subscribe({next:e=>{let t=URL.createObjectURL(e);this.imageSrc=t},error:()=>{console.error("Failed to load image.")}})}uploadImage(o){let e=o.target.files[0];if(!e)return;if(e.size>2*1024*1024){this.imageUploadError.set("File size should not exceed 2MB.");return}if(!["image/jpeg","image/png","image/webp"].includes(e.type)){this.imageUploadError.set("Only JPG, PNG, and WEBP formats are allowed.");return}this.imageUploading.set(!0),this.imageService.upload(e).subscribe({next:r=>{console.log(r),this.categoryForm.patchValue({imageUrl:r.url}),this.fetchImage(r.url),this.imageUploading.set(!1)},error:()=>{this.imageUploadError.set("Failed to upload image. Try again."),this.imageUploading.set(!1)}})}saveCategory(){if(this.categoryForm.valid&&this.categoryForm.value.name&&this.categoryForm.value.imageUrl){let o={name:this.categoryForm.value.name,ImageUrl:this.categoryForm.value.imageUrl};this.categoryService.addCategory(o).subscribe({next:()=>{this.snackBar.open("Category added successfully!","Close",{duration:3e3}),this.router.navigate(["/admin/categories"])},error:e=>{this.snackBar.open(e.message,"Close",{duration:3e3})}})}}static \u0275fac=function(e){return new(e||i)(b(ae),b(re),b(De),b(ke),b(Ke))};static \u0275cmp=y({type:i,selectors:[["app-category-form"]],decls:26,vars:6,consts:[["mat-button","","color","primary","routerLink","/admin/categories",1,"back-button"],[1,"form-card"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","name","required",""],[1,"upload-container"],["type","file","accept","image/png, image/jpeg, image/webp","id","fileUpload",1,"file-input",3,"change"],["for","fileUpload",1,"upload-label"],["mode","indeterminate","class","progress-bar",4,"ngIf"],["class","error",4,"ngIf"],["class","image-preview",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",1,"save-btn",3,"disabled"],["mode","indeterminate",1,"progress-bar"],[1,"error"],[1,"image-preview"],["alt","Uploaded Image",3,"src"]],template:function(e,t){e&1&&(c(0,"button",0)(1,"mat-icon"),d(2,"arrow_back"),l(),d(3,` Back to Categories
`),l(),c(4,"mat-card",1)(5,"mat-card-title"),d(6),l(),c(7,"mat-card-content")(8,"form",2),v("ngSubmit",function(){return t.saveCategory()}),c(9,"mat-form-field",3)(10,"mat-label"),d(11,"Category Name"),l(),g(12,"input",4),l(),c(13,"div",5)(14,"input",6),v("change",function(n){return t.uploadImage(n)}),l(),c(15,"label",7)(16,"mat-icon"),d(17,"cloud_upload"),l(),d(18," Upload Image "),l()(),_(19,qr,1,0,"mat-progress-bar",8)(20,Gr,2,1,"p",9)(21,Xr,2,1,"div",10),c(22,"button",11)(23,"mat-icon"),d(24,"save"),l(),d(25," Save Category "),l()()()()),e&2&&(m(6),T(t.isEditMode==!1?"Add Category":"Edit Category"),m(2),f("formGroup",t.categoryForm),m(11),f("ngIf",t.imageUploading()),m(),f("ngIf",t.imageUploadError()),m(),f("ngIf",t.imageSrc),m(),f("disabled",t.categoryForm.invalid||t.imageUploading()))},dependencies:[nt,it,Ze,Je,et,ot,Se,rt,ct,lt,st,at,q,Q,Qe,Nt,se,qe,Ge,He,ne,oe],styles:["mat-card-title[_ngcontent-%COMP%]{color:orange;font:700}.form-card[_ngcontent-%COMP%]{max-width:500px;margin:30px auto;padding:25px;border-radius:12px;box-shadow:0 4px 10px #0000001a;background:#fff}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.upload-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:15px;margin:20px 0}.file-input[_ngcontent-%COMP%]{display:none}.upload-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:12px 18px;background:#3f51b5;color:#fff;font-size:14px;border-radius:6px;cursor:pointer;transition:.3s}.upload-label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:20px}.upload-label[_ngcontent-%COMP%]:hover{background:#2c3e9b}.progress-bar[_ngcontent-%COMP%]{margin:10px 0;width:100%}.error[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.image-preview[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:15px;padding:10px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px;box-shadow:0 2px 6px #0000001a}.save-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px;width:100%;margin-top:25px}mat-card-content[_ngcontent-%COMP%]{padding:15px}"]})};var fr=()=>["name","price","actions"],$r=()=>["/admin/products/add"];function Yr(i,o){i&1&&(c(0,"th",12),d(1,"Name"),l())}function Zr(i,o){if(i&1&&(c(0,"td",13),d(1),l()),i&2){let e=o.$implicit;m(),T(e.name)}}function Jr(i,o){i&1&&(c(0,"th",12),d(1,"Price"),l())}function eo(i,o){if(i&1&&(c(0,"td",13),d(1),l()),i&2){let e=o.$implicit;m(),ie("$",e.price,"")}}function to(i,o){i&1&&(c(0,"th",12),d(1,"Actions"),l())}function io(i,o){if(i&1){let e=ue();c(0,"td",14)(1,"button",15),v("click",function(){let r=I(e).$implicit,n=C();return F(n.router.navigate(["/admin/products/edit",r.id]))}),c(2,"mat-icon"),d(3,"edit"),l()(),c(4,"button",16),v("click",function(){let r=I(e).$implicit,n=C();return F(n.deleteProduct(r.id))}),c(5,"mat-icon"),d(6,"delete"),l()()()}}function ro(i,o){i&1&&g(0,"tr",17)}function oo(i,o){i&1&&g(0,"tr",18)}var Fe=class i{constructor(o,e,t){this.productService=o;this.categoryService=e;this.route=t}products=W([]);router=s(re);categoryId;categoryName;ngOnInit(){this.categoryId=Number(this.route.snapshot.paramMap.get("categoryId")),isNaN(this.categoryId)||(this.loadProducts(),console.log("categoryID;: "+this.categoryId),this.fetchCategoryName())}fetchCategoryName(){this.categoryService.getCategoryById(this.categoryId).subscribe({next:o=>this.categoryName=o.name})}loadProducts(){this.productService.getProductsByCategoryId(this.categoryId).subscribe({next:o=>this.products.set(o),error:o=>console.error("Error loading products:",o)})}deleteProduct(o){confirm("Are you sure you want to delete this product?")&&this.productService.deleteProduct(o).subscribe({next:()=>{this.products.set(this.products().filter(e=>e.id!==o))},error:e=>console.error("Error deleting product:",e)})}static \u0275fac=function(e){return new(e||i)(b(Ye),b(ae),b(De))};static \u0275cmp=y({type:i,selectors:[["app-product-list"]],decls:23,vars:8,consts:[[1,"table-container"],["mat-button","","color","primary","routerLink","/admin/categories",1,"back-button"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","price"],["matColumnDef","actions"],["mat-cell","","class","action-buttons",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary",1,"add-button",3,"routerLink"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-buttons"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){e&1&&(c(0,"div",0)(1,"h2"),d(2),l(),c(3,"button",1)(4,"mat-icon"),d(5,"arrow_back"),l(),d(6," Back to Categories "),l(),c(7,"table",2),Y(8,3),_(9,Yr,2,0,"th",4)(10,Zr,2,1,"td",5),Z(),Y(11,6),_(12,Jr,2,0,"th",4)(13,eo,2,1,"td",5),Z(),Y(14,7),_(15,to,2,0,"th",4)(16,io,7,0,"td",8),Z(),_(17,ro,1,0,"tr",9)(18,oo,1,0,"tr",10),l(),c(19,"button",11)(20,"mat-icon"),d(21,"add"),l(),d(22," Add Product "),l()()),e&2&&(m(2),ie("Manage Products of ",t.categoryName,""),m(5),f("dataSource",t.products()),m(10),f("matHeaderRowDef",pe(5,fr)),m(),f("matRowDefColumns",pe(6,fr)),m(),f("routerLink",pe(7,$r)))},dependencies:[se,Tt,bt,Dt,Rt,xt,wt,Mt,St,kt,Ot,Et,q,Q,$e,ne,oe],styles:[".table-container[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 4px 10px #0000001a}h2[_ngcontent-%COMP%]{color:orange;text-align:center;margin-bottom:16px;font-size:1.5rem}table[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;color:orange}td[_ngcontent-%COMP%]{padding:10px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.add-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:20px;width:100%;justify-content:center}.back-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:16px;font-size:14px}@media (max-width: 600px){.table-container[_ngcontent-%COMP%]{padding:10px}.add-button[_ngcontent-%COMP%]{font-size:.9rem}}"]})};var co=["trigger"],mo=["panel"],uo=[[["mat-select-trigger"]],"*"],po=["mat-select-trigger","*"];function fo(i,o){if(i&1&&(c(0,"span",4),d(1),l()),i&2){let e=C();m(),T(e.placeholder)}}function ho(i,o){i&1&&V(0)}function go(i,o){if(i&1&&(c(0,"span",11),d(1),l()),i&2){let e=C(2);m(),T(e.triggerValue)}}function _o(i,o){if(i&1&&(c(0,"span",5),_(1,ho,1,0)(2,go,2,1,"span",11),l()),i&2){let e=C();m(),z(e.customTrigger?1:2)}}function yo(i,o){if(i&1){let e=ue();c(0,"div",12,1),v("keydown",function(r){I(e);let n=C();return F(n._handleKeydown(r))}),V(2,1),l()}if(i&2){let e=C();vi("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),$("mat-select-panel-animations-enabled",!e._animationsDisabled),f("ngClass",e.panelClass),ye("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var vr=new U("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let i=s(Qt);return()=>i.scrollStrategies.reposition()}});function vo(i){return()=>i.scrollStrategies.reposition()}var Co=new U("MAT_SELECT_CONFIG"),bo={provide:vr,deps:[Qt],useFactory:vo},wo=new U("MatSelectTrigger"),ai=class{source;value;constructor(o,e){this.source=o,this.value=e}},Cr=(()=>{class i{_viewportRuler=s(ut);_changeDetectorRef=s(Ce);_elementRef=s(P);_dir=s(Ue,{optional:!0});_idGenerator=s(Ei);_renderer=s(Ve);_parentFormField=s(Hi,{optional:!0});ngControl=s(Li,{self:!0,optional:!0});_liveAnnouncer=s(Oi);_defaultOptions=s(Co,{optional:!0});_animationsDisabled=s(Be,{optional:!0})==="NoopAnimations";_initialized=new he;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let t=this.options.toArray()[e];if(t){let r=this.panel.nativeElement,n=Ai(e,this.options,this.optionGroups),a=t._getHostElement();e===0&&n===1?r.scrollTop=0:r.scrollTop=Ni(a.offsetTop,a.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new ai(this,e)}_scrollStrategyFactory=s(vr);_panelOpen=!1;_compareWith=(e,t)=>e===t;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new he;_errorStateTracker;stateChanges=new he;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;disableRipple=!1;tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(A.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=ui(()=>{let e=this.options;return e?e.changes.pipe(Ht(e),jt(()=>Ae(...e.map(t=>t.onSelectionChange)))):this._initialized.pipe(jt(()=>this.optionSelectionChanges))});openedChange=new te;_openedStream=this.openedChange.pipe(Vt(e=>e),zt(()=>{}));_closedStream=this.openedChange.pipe(Vt(e=>!e),zt(()=>{}));selectionChange=new te;valueChange=new te;constructor(){let e=s(Ii),t=s(Bi,{optional:!0}),r=s(Se,{optional:!0}),n=s(new Ne("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new Ti(e,this.ngControl,r,t,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=n==null?0:parseInt(n)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Wi(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(j(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(j(this._destroy)).subscribe(e=>{e.added.forEach(t=>t.select()),e.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Ht(null),j(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),t=this.ngControl;if(e!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}t&&(this._previousControl!==t.control&&(this._previousControl!==void 0&&t.disabled!==null&&t.disabled!==this.disabled&&(this.disabled=t.disabled),this._previousControl=t.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(pi(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let t=`${this.id}-panel`;this._trackedModal&&Ut(this._trackedModal,"aria-owns",t),Ri(e,"aria-owns",t),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;Ut(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{t(),clearTimeout(r),this._cleanupDetach=void 0};let e=this.panel.nativeElement,t=this._renderer.listen(e,"animationend",n=>{n.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),r=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);e.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let t=e.keyCode,r=t===40||t===38||t===37||t===39,n=t===13||t===32,a=this._keyManager;if(!a.isTyping()&&n&&!je(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){let p=this.selected;a.onKeydown(e);let u=this.selected;u&&p!==u&&this._liveAnnouncer.announce(u.viewValue,1e4)}}_handleOpenKeydown(e){let t=this._keyManager,r=e.keyCode,n=r===40||r===38,a=t.isTyping();if(n&&e.altKey)e.preventDefault(),this.close();else if(!a&&(r===13||r===32)&&t.activeItem&&!je(e))e.preventDefault(),t.activeItem._selectViaInteraction();else if(!a&&this._multiple&&r===65&&e.ctrlKey){e.preventDefault();let p=this.options.some(u=>!u.disabled&&!u.selected);this.options.forEach(u=>{u.disabled||(p?u.select():u.deselect())})}else{let p=t.activeItemIndex;t.onKeydown(e),this._multiple&&n&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==p&&t.activeItem._selectViaInteraction()}}_handleOverlayKeydown(e){e.keyCode===27&&!je(e)&&(e.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(t=>this._selectOptionByValue(t)),this._sortValues();else{let t=this._selectOptionByValue(e);t?this._keyManager.updateActiveItem(t):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let t=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return(r.value!=null||this.canSelectNullableOptions)&&this._compareWith(r.value,e)}catch{return!1}});return t&&this._selectionModel.select(t),t}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof qt?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Mi(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=Ae(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(j(e)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Ae(...this.options.map(t=>t._stateChanges)).pipe(j(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,t){let r=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((t,r)=>this.sortComparator?this.sortComparator(t,r,e):e.indexOf(t)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let t;this.multiple?t=this.selected.map(r=>r.value):t=this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(this._getChangeEvent(t)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let t=0;t<this.options.length;t++)if(!this.options.get(t).disabled){e=t;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,t=e?e+" ":"";return this.ariaLabelledby?t+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),t=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(t+=" "+this.ariaLabelledby),t}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=y({type:i,selectors:[["mat-select"]],contentQueries:function(t,r,n){if(t&1&&(E(n,wo,5),E(n,We,5),E(n,Pi,5)),t&2){let a;x(a=S())&&(r.customTrigger=a.first),x(a=S())&&(r.options=a),x(a=S())&&(r.optionGroups=a)}},viewQuery:function(t,r){if(t&1&&(Oe(co,5),Oe(mo,5),Oe(Gt,5)),t&2){let n;x(n=S())&&(r.trigger=n.first),x(n=S())&&(r.panel=n.first),x(n=S())&&(r._overlayDir=n.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(t,r){t&1&&v("keydown",function(a){return r._handleKeydown(a)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),t&2&&(ye("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),$("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",D],disableRipple:[2,"disableRipple","disableRipple",D],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:we(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",D],placeholder:"placeholder",required:[2,"required","required",D],multiple:[2,"multiple","multiple",D],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",D],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",we],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",D]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[M([{provide:Vi,useExisting:i},{provide:Fi,useExisting:i}]),ge],ngContentSelectors:po,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(t,r){if(t&1){let n=ue();ve(uo),c(0,"div",2,0),v("click",function(){return I(n),F(r.open())}),c(3,"div",3),_(4,fo,2,1,"span",4)(5,_o,3,1,"span",5),l(),c(6,"div",6)(7,"div",7),hi(),c(8,"svg",8),g(9,"path",9),l()()()(),_(10,yo,3,10,"ng-template",10),v("backdropClick",function(){return I(n),F(r.close())})("overlayKeydown",function(p){return I(n),F(r._handleOverlayKeydown(p))})}if(t&2){let n=Ci(1);m(3),ye("id",r._valueId),m(),z(r.empty?4:5),m(6),f("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||n)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[qt,Gt,wi],styles:['@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}'],encapsulation:2,changeDetection:0})}return i})();var br=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=me({type:i});static \u0275inj=de({providers:[bo],imports:[$i,Wt,xe,Xi,ji,Wt,xe]})}return i})();function xo(i,o){if(i&1&&(c(0,"mat-option",15),d(1),l()),i&2){let e=o.$implicit;f("value",e.id),m(),ie(" ",e.name," ")}}function So(i,o){i&1&&g(0,"mat-progress-bar",16)}function ko(i,o){if(i&1&&(c(0,"p",17),d(1),l()),i&2){let e=C();m(),T(e.imageUploadError())}}function Ro(i,o){if(i&1&&(c(0,"div",18),g(1,"img",19),l()),i&2){let e=C();m(),f("src",e.imageSrc,ze)}}var Pe=class i{constructor(o,e,t,r,n,a){this.productService=o;this.categoryService=e;this.router=t;this.route=r;this.snackBar=n;this.imageService=a}printForm(){console.log(this.productForm)}productForm=new tt({name:new J("",A.required),price:new J(0,[A.required,A.min(0)]),description:new J("",A.required),categoryId:new J(0,A.required),imageUrl:new J("",A.required)});categories=[];isEditMode=!1;productId=null;imageUploading=W(!1);imageUploadError=W(null);imageSrc=null;ngOnInit(){this.loadCategories(),this.checkEditMode(),this.printForm()}loadCategories(){this.categoryService.getCategories().subscribe({next:o=>this.categories=o,error:()=>console.error("Failed to load categories")})}checkEditMode(){this.productId=Number(this.route.snapshot.paramMap.get("id")),this.isEditMode=!isNaN(this.productId)&&this.productId>0,this.isEditMode&&this.productService.getProductById(this.productId).subscribe({next:o=>{this.productForm.patchValue(o),this.imageSrc=this.imageService.getImageUrl(o.imageUrl)},error:()=>console.error("Failed to load product")})}fetchImage(o){this.imageService.getImageByUrl(o).subscribe({next:e=>{let t=URL.createObjectURL(e);this.imageSrc=t},error:()=>console.error("Failed to load image")})}uploadImage(o){let e=o.target.files[0];if(!e)return;if(e.size>2*1024*1024){this.imageUploadError.set("File size should not exceed 2MB.");return}if(!["image/jpeg","image/png","image/webp"].includes(e.type)){this.imageUploadError.set("Only JPG, PNG, and WEBP formats are allowed.");return}this.imageUploading.set(!0),this.imageService.upload(e).subscribe({next:r=>{this.productForm.patchValue({imageUrl:r.url}),this.fetchImage(r.url),this.imageUploading.set(!1)},error:()=>{this.imageUploadError.set("Failed to upload image. Try again."),this.imageUploading.set(!1)}})}saveProduct(){if(this.productForm.invalid)return;let o={name:this.productForm.value.name,price:this.productForm.value.price,description:this.productForm.value.description,categoryId:this.productForm.value.categoryId,imageUrl:this.productForm.value.imageUrl};this.isEditMode&&this.productId?this.productService.updateProduct(this.productId,o).subscribe({next:()=>{this.snackBar.open("Product updated successfully!","Close",{duration:3e3}),this.router.navigate([`/admin/categories/${o.categoryId}/products`])},error:e=>{this.snackBar.open(e.message,"Close",{duration:3e3})}}):this.productService.addProduct(o).subscribe({next:()=>{this.snackBar.open("Product added successfully!","Close",{duration:3e3}),this.router.navigate([`/admin/categories/${o.categoryId}/products`])},error:e=>{this.snackBar.open(e.message,"Close",{duration:3e3})}})}static \u0275fac=function(e){return new(e||i)(b(Ye),b(ae),b(re),b(De),b(ke),b(Ke))};static \u0275cmp=y({type:i,selectors:[["app-product-form"]],decls:35,vars:8,consts:[[1,"form-card"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","name","required",""],["matInput","","type","number","formControlName","price","required",""],["matInput","","formControlName","description"],["formControlName","categoryId","required",""],[3,"value",4,"ngFor","ngForOf"],[1,"upload-container"],["type","file","accept","image/png, image/jpeg, image/webp","id","fileUpload",1,"file-input",3,"change"],["for","fileUpload",1,"upload-label"],["mode","indeterminate","class","progress-bar",4,"ngIf"],["class","error",4,"ngIf"],["class","image-preview",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",1,"save-btn",3,"mouseenter","disabled"],[3,"value"],["mode","indeterminate",1,"progress-bar"],[1,"error"],[1,"image-preview"],["alt","Uploaded Image",3,"src"]],template:function(e,t){e&1&&(c(0,"mat-card",0)(1,"mat-card-title"),d(2),l(),c(3,"mat-card-content")(4,"form",1),v("ngSubmit",function(){return t.saveProduct()}),c(5,"mat-form-field",2)(6,"mat-label"),d(7,"Product Name"),l(),g(8,"input",3),l(),c(9,"mat-form-field",2)(10,"mat-label"),d(11,"Price"),l(),g(12,"input",4),l(),c(13,"mat-form-field",2)(14,"mat-label"),d(15,"Description"),l(),g(16,"textarea",5),l(),c(17,"mat-form-field",2)(18,"mat-label"),d(19,"Category"),l(),c(20,"mat-select",6),_(21,xo,2,2,"mat-option",7),l()(),c(22,"div",8)(23,"input",9),v("change",function(n){return t.uploadImage(n)}),l(),c(24,"label",10)(25,"mat-icon"),d(26,"cloud_upload"),l(),d(27," Upload Image "),l()(),_(28,So,1,0,"mat-progress-bar",11)(29,ko,2,1,"p",12)(30,Ro,2,1,"div",13),c(31,"button",14),v("mouseenter",function(){return t.printForm()}),c(32,"mat-icon"),d(33,"save"),l(),d(34),l()()()()),e&2&&(m(2),T(t.isEditMode?"Edit Product":"Add Product"),m(2),f("formGroup",t.productForm),m(17),f("ngForOf",t.categories),m(7),f("ngIf",t.imageUploading()),m(),f("ngIf",t.imageUploadError()),m(),f("ngIf",t.imageSrc),m(),f("disabled",t.productForm.invalid||t.imageUploading()),m(3),ie(" ",t.isEditMode?"Update":"Save"," Product "))},dependencies:[nt,it,Ze,zi,Je,et,ot,Se,rt,ct,lt,st,at,q,Q,Qe,Nt,se,qe,Ge,br,Cr,We,He,Di],styles:["mat-card-title[_ngcontent-%COMP%]{color:orange;font:700}.form-card[_ngcontent-%COMP%]{max-width:500px;margin:30px auto;padding:25px;border-radius:12px;box-shadow:0 4px 10px #0000001a;background:#fff}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.upload-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:15px;margin:20px 0}.file-input[_ngcontent-%COMP%]{display:none}.upload-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:12px 18px;background:#3f51b5;color:#fff;font-size:14px;border-radius:6px;cursor:pointer;transition:.3s}.upload-label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:20px}.upload-label[_ngcontent-%COMP%]:hover{background:#2c3e9b}.progress-bar[_ngcontent-%COMP%]{margin:10px 0;width:100%}.error[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.image-preview[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:15px;padding:10px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px;box-shadow:0 2px 6px #0000001a}.save-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px;width:100%;margin-top:25px}mat-card-content[_ngcontent-%COMP%]{padding:15px}"]})};var Lt=class i{authService=s(Xe);isAdmin=!1;AdminComponent(){this.isAdmin=this.authService.isAuthenticated()}onLogout(){this.authService.logout()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=y({type:i,selectors:[["app-admin"]],decls:13,vars:0,consts:[["mode","side","opened",""],["mat-list-item","","routerLink","/admin/categories","routerLinkActive","active-link"],["color","primary"],[1,"spacer"],["mat-button","",3,"click"]],template:function(e,t){e&1&&(c(0,"mat-sidenav-container")(1,"mat-sidenav",0)(2,"mat-nav-list")(3,"a",1),d(4,"Categories"),l()()(),c(5,"mat-sidenav-content")(6,"mat-toolbar",2)(7,"span"),d(8,"Admin Panel"),l(),g(9,"span",3),c(10,"button",4),v("click",function(){return t.onLogout()}),d(11,"Logout"),l()(),g(12,"router-outlet"),l()())},dependencies:[xi,er,Zi,Ji,Yi,Gi,qi,Qi,ir,tr,q,Q,ne,oe,Si],styles:["mat-sidenav-container[_ngcontent-%COMP%]{height:90.5vh}mat-sidenav[_ngcontent-%COMP%]{width:80vw;max-width:250px;background-color:#f4f4f4}@media (max-width: 600px){mat-sidenav[_ngcontent-%COMP%]{width:100vw;max-width:100%}}.active-link[_ngcontent-%COMP%]{background:#0000001a;font-weight:700;border-right:4px solid orange}mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:inherit;font-weight:500}mat-nav-list[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#0000001a}mat-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 16px;color:#c4c4f5}"]})};var ce=()=>s(Xe).isAuthenticated()?!0:["/login"],Xa=[{path:"",component:Lt,canActivate:[ce],children:[{path:"",redirectTo:"categories",pathMatch:"full"},{path:"categories",component:It,canActivate:[ce]},{path:"categories/add",component:Ie,canActivate:[ce]},{path:"categories/edit/:id",component:Ie,canActivate:[ce]},{path:"categories/:categoryId/products",component:Fe,canActivate:[ce]},{path:"products",component:Fe,canActivate:[ce]},{path:"products/add",component:Pe,canActivate:[ce]},{path:"products/edit/:id",component:Pe,canActivate:[ce]}]}];export{Xa as adminRoutes};
